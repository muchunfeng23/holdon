<!DOCTYPE html>
<html>
<head>
	<meta charset="UTF-8">
	<meta http-equiv="content-type" content="text/html;charset=utf-8">
    <meta name="author" content="" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
<title></title>

	<script type="text/javascript" src="/assets/js/jquery-2.0.3.min.js"></script>
    <script type="text/javascript" src="/assets/js/select2.min.js"></script>
    <script type="text/javascript" src="/assets/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="/assets/js/bootstrap-table.min.js"></script>
    <script type="text/javascript" src="/assets/js/bootstrap-table-zh-CN.min.js"></script>
    <script type="text/javascript" src="/assets/js/layer/layer.js"></script>
    <script type="text/javascript" src="/assets/js/laydate/laydate.js"></script>
    <script type="text/javascript" src="/assets/js/mrm/common.js"></script>
    <script type="text/javascript" src="/assets/js/mrm/fileupload.js"></script>
    <script type="text/javascript" src="/assets/js/echarts.min.js"></script>
    <script type="text/javascript" src="/assets/js/jquery.webui-popover.min.js"></script>
    <script type="text/javascript" src="/assets/js/only-run-java.js"></script>
	
    <link rel="stylesheet" type="text/css" href="/assets/css/bootstrap.min.css"/>
    <link rel="stylesheet" type="text/css" href="/assets/css/common.css"/>
    <link rel="stylesheet" type="text/css" href="/assets/css/bootstrap-table.min.css"/>
    <link rel="stylesheet" type="text/css" href="/assets/css/select2.min.css"/>
    <link rel="stylesheet" type="text/css" href="/assets/css/viewer.min.css"/>
    <link rel="stylesheet" type="text/css" href="/assets/css/jquery.webui-popover.min.css"/>
</head>
<body>
	<div th:replace="include/common"></div>
	<div class="wrap">
		<div class="main">
			<!-- table -->
			<section>
				<table id="tableIndex" data-toolbar="#toolbar"></table>
			</section>
		</div>
	</div>
</body>

<script type="text/javascript">
	$(function(){
		tableIndex.bootstrapTable({columns:arrColumns});
		initPage();
	});
	
	var defaultDateOpts = {elem: '#id', format: 'YYYY-MM-DD', isclear: true, issure: true};
	var tableIndex = $("#tableIndex");
	var arrColumns = [{
		field: 'userId',
	    title: '操作员id',
	    align: 'center'
	},{
		field: 'userName',
	    title: '姓名',
	    align: 'center'
	},{
		field: 'operateStr',
	    title: '操作',
	    align: 'center'
	},{
		field: 'sourceStr',
	    title: '数据来源',
	    align: 'center'
	},{
		field: 'commodityId',
	    title: '竟对商品	id',
	    align: 'center'
	},{
		field: 'skuId',
	    title: '美菜商品id',
	    align: 'center'
	},{
		field: 'ctStr',
	    title: '操作时间',
	    align: 'center'
	}];
	
	function initPage(obj){
        
        tableIndex.bootstrapTable('destroy').bootstrapTable({
            columns:arrColumns,
            showRefresh:false,
            uniqueId:'id',
            url:'/research/crawler/getOperationRecord',
            queryParamsType:'',
            pagination:true,
            sidePagination: 'server',
            method:'post',
            pageSize:40,
            pageList: [20,40,60,80],
            paginationPreText: "上一页",
            paginationNextText: "下一页",
            paginationFirstText: "首页",
            paginationLastText: "尾页",
            
            responseHandler:function(res){
            	if(res.data){
                    return res.data
                }else{
                    return [];
                }
            }
        });
        
    }
</script>
</html>